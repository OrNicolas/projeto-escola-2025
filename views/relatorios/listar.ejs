<%- include ('../includes/header.ejs', {titulo: 'Lista de RelatÃ³rios' }) %>

<main class="w-full px-4 bg-gray-900 min-h-screen">
    <h2 class="text-2xl font-semibold bg-gray-700 text-yellow-400 py-4 shadow-lg mb-4 rounded-b-lg">
        ðŸ“‹ Meus RelatÃ³rios
    </h2>

    <div class="mb-6">
        <a href="/admin/relatorios/novo" class="inline-block px-4 py-2 bg-yellow-500 text-gray-900 font-semibold rounded hover:bg-yellow-600 transition duration-300">
            âž• Novo RelatÃ³rio
        </a>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8">
        
        <% if (listaRelatorios && listaRelatorios.length > 0) { %>
            <% listaRelatorios.forEach(relatorio => { %>
                <div class="bg-gray-800 p-6 rounded-lg shadow-xl border-l-4 border-yellow-400 hover:shadow-2xl transition duration-300">
                    <h3 class="text-xl font-bold text-yellow-400 mb-2">
                        <%= relatorio.titulo %>
                    </h3>
                    <p class="text-gray-400 text-sm mb-3">
                        Data: 
                        <%= new Date(relatorio.data_emissao).toLocaleDateString('pt-BR') %>
                    </p>
                    <p class="text-gray-300 mb-4 overflow-hidden h-12 text-ellipsis">
                        <%= relatorio.conteudo.substring(0, 100) %>...
                    </p>
                    <a href="/admin/relatorios/<%= relatorio.id_relatorio %>" class="text-yellow-500 hover:text-yellow-600 font-medium">
                        Ver Detalhes â†’
                    </a>
                </div>
            <% }) %>
        <% } else { %>
            <div class="md:col-span-3 text-center p-10 bg-gray-800 rounded-lg text-gray-400">
                <p>Nenhum relatÃ³rio encontrado. Comece criando um novo!</p>
            </div>
        <% } %>

    </div>

</main>

<%- include ('../includes/footer.ejs') %>