<%- include ('../includes/header.ejs', {titulo: 'Editar Produto' }) %>

    <style>
        /* Cores personalizadas */
        .bg-batman-dark {
            background-color: #1a1a1a;
        }

        .text-batman-yellow {
            color: #FFD700;
        }

        .bg-batman-yellow {
            background-color: #FFD700;
            color: #1a1a1a;
        }

        .hover\:bg-batman-yellow-dark:hover {
            background-color: #e0b400;
        }
    </style>

    <main class="min-h-screen bg-batman-dark text-white p-6 md:p-10 mb-0">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-4xl font-extrabold border-b-4 border-batman-yellow pb-3 mb-8 text-batman-yellow">Editar
                Produto</h2>

            <form action="/produtos/editar/<%= produto.id_produto %>" method="post"
                class="space-y-6 p-8 rounded-xl shadow-2xl bg-gray-900 border border-gray-700">

                <div class="space-y-1">
                    <label for="nome" class="block text-sm font-medium text-gray-300">Nome Do Produto: (Arraste para o
                        lado p/ ver o nome completo)</label>
                    <input type="text" name="nome" value="<%= produto.nome %>" required
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2">
                </div>

                <div class="space-y-1">
                    <label for="preco" class="block text-sm font-medium text-gray-300">Preço:</label>
                    <input type="number" name="preco" value="<%= produto.preco %>" step="0.01" required
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2">
                </div>

                <div class="space-y-1">
                    <label for="quantidade_estoque" class="block text-sm font-medium text-gray-300">Quantidade em
                        Estoque:</label>
                    <input type="number" name="quantidade_estoque" value="<%= produto.quantidade_estoque %>" required
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2">
                </div>

                <div class="space-y-1">
                    <label for="estoque_minimo" class="block text-sm font-medium text-gray-300">Estoque Mínimo:</label>
                    <input type="number" name="estoque_minimo" value="<%= produto.estoque_minimo %>" required
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2">
                </div>

                <div class="space-y-1">
                    <label for="ativo" class="block text-sm font-medium text-gray-300">Status:</label>
                    <select name="ativo" required
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2 text-gray-300">
                        <option value="TRUE" <% if (produto.ativo===true) { %> selected <% } %>>Ativo</option>
                        <option value="FALSE" <% if (produto.ativo===false) { %> selected <% } %>>Inativo</option>
                    </select>
                </div>

                <div class="space-y-1">
                    <label for="foto" class="block text-sm font-medium text-gray-300">URL da Foto:</label>
                    <input type="text" name="foto" value="<%= produto.foto %>"
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2">

                    <% if (produto.foto && produto.foto.length> 0) { %>
                        <div class="mt-4 p-3 bg-gray-800 rounded-lg border border-gray-700">
                            <p class="text-sm text-gray-400 mb-2">Pré-visualização:</p>
                            <img src="<%= produto.foto %>" alt="Foto atual do produto"
                                class="max-h-32 object-contain rounded-md border border-gray-600">
                        </div>
                        <% } %>
                </div>

                <div class="space-y-1">
                    <label for="id_categoria" class="block text-sm font-medium text-gray-300">Categoria:</label>
                    <select name="id_categoria" required
                        class="w-full p-3 rounded-lg border-2 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 solid rounded-2xl px-16 border-gray-700 py-2 text-gray-300">
                        <option value="" class="text-white">Selecione a Categoria</option>
                        <% for (let categoria of categorias) { %>
                            <option value="<%= categoria.id_categoria %>" <% if
                                (produto.id_categoria==categoria.id_categoria) { %> selected <% } %>><%= categoria.nome
                                        %>
                            </option>
                            <% } %>
                    </select>
                </div>

                <div class="flex justify-end space-x-4 pt-4">
                    <button type="submit"
                        class="py-3 px-8 flex items-center justify-center rounded-lg bg-batman-yellow text-gray-900 font-bold shadow-xl hover:bg-batman-yellow-dark transition duration-300 transform hover:scale-105">
                        Salvar Alterações
                    </button>

                    <a href="/produtos/listar"
                        class="py-3 px-8 flex items-center justify-center rounded-lg text-white bg-gray-700 font-medium hover:bg-gray-600 transition duration-200 shadow-md">
                        Cancelar
                    </a>
                </div>

            </form>
        </div>
    </main>

    <%- include ('../includes/footer.ejs') %>