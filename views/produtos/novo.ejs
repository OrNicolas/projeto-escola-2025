<%- include ('../includes/header.ejs', {titulo: 'Novo Produto' }) %>

<style>
    /* Cores personalizadas (Tema Batman Dark) */
    .bg-batman-dark {
        background-color: #1a1a1a;
        /* Preto muito escuro */
    }

    .text-batman-yellow {
        color: #FFD700;
        /* Amarelo Dourado */
    }

    /* Removido bg-batman-yellow e hover\:bg-batman-yellow-dark pois já existem as classes 'save' */

    /* Estilo para o botão de salvar, usando a cor amarela do tema */
    .bg-batman-save {
        background-color: #FFD700;
        color: #1a1a1a;
    }

    .hover\:bg-batman-save-dark:hover {
        background-color: #e0b400;
    }
</style>

<main class="min-h-screen bg-batman-dark text-white p-6 md:p-10">
    <div class="max-w-3xl mx-auto">
        
        <h2 class="text-4xl font-extrabold border-b-4 border-batman-yellow pb-3 mb-8 text-batman-yellow">
            Adicionar Novo Produto
        </h2>

        <form action="/produtos/novo" method="post" id="productForm"
            class="space-y-6 p-8 rounded-xl shadow-2xl bg-gray-900 border border-gray-700">

            <div class="space-y-1">
                <label for="nome" class="block text-sm font-medium text-gray-300">Nome do Produto</label>
                <input type="text" name="nome" required
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg">
            </div>

            <div class="space-y-1">
                <label for="descricao" class="block text-sm font-medium text-gray-300">Descrição do Produto</label>
                <textarea name="descricao" rows="3"
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg"></textarea>
            </div>
            
            <div class="space-y-1">
                <label for="preco" class="block text-sm font-medium text-gray-300">Preço</label>
                <input type="number" step="0.01" name="preco" required
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg">
            </div>

            <div class="space-y-1">
                <label for="foto" class="block text-sm font-medium text-gray-300">URL da Imagem</label>
                <input type="url" name="foto" placeholder="Ex: https://link.com/imagem.jpg"
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg">
            </div>

            <div class="space-y-1">
                <label for="quantidade_entrada" class="block text-sm font-medium text-gray-300">Quantidade Inicial de
                    Entrada:</label>
                <input type="number" name="quantidade_entrada" placeholder="Ex: 50" required
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg">
            </div>

            <div class="space-y-1">
                <label for="estoque_minimo" class="block text-sm font-medium text-gray-300">Estoque Mín. :</label>
                <input type="number" name="estoque_minimo" placeholder="Ex: 10" required
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg">
            </div>

            <div class="space-y-1">
                <label for="id_categoria" class="block text-sm font-medium text-gray-300">Categoria:</label>
                <select name="id_categoria" required
                    class="w-full p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:ring-2 focus:ring-batman-yellow focus:border-batman-yellow transition duration-150 rounded-lg text-gray-300">
                    <option value="" class="text-white">Selecione a Categoria</option>
                    <% if (typeof categorias !=='undefined' ) { %>
                        <% for (let categoria of categorias) { %>
                            <option value="<%= categoria.id_categoria %>">
                                <%= categoria.nome %>
                            </option>
                        <% } %>
                    <% } %>
                </select>
            </div>

            <div class="flex justify-end space-x-4 pt-4">
                <button type="submit"
                    class="py-3 px-8 flex items-center justify-center rounded-lg bg-batman-save text-gray-900 font-bold shadow-xl hover:bg-batman-save-dark transition duration-300 transform hover:scale-105">
                    Salvar Produto e Iniciar Estoque
                </button>

                <a href="/produtos/listar"
                    class="py-3 px-8 flex items-center justify-center rounded-lg text-white bg-gray-700 font-medium hover:bg-gray-600 transition duration-200 shadow-md">
                    Cancelar
                </a>
            </div>
        </form>
    </div>
</main>

<%- include ('../includes/footer.ejs') %>